local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Clipboard = setclipboard or toclipboard or (Clipboard and Clipboard.set)

local LastCFrame = nil

local function GetCharacter()
    return LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Frame.Size = UDim2.new(0, 280, 0, 180)
Frame.Position = UDim2.new(0.5, -140, 0.5, -90)
Frame.BorderSizePixel = 2
Frame.BorderColor3 = Color3.fromRGB(255, 0, 0)
Frame.Active = true
Frame.Draggable = true

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 10)

local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Text = "X HUB"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 255)

local CloseButton = Instance.new("TextButton")
CloseButton.Parent = Frame
CloseButton.Text = "X"
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 16
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.BorderSizePixel = 0

local CloseCorner = Instance.new("UICorner", CloseButton)
CloseCorner.CornerRadius = UDim.new(1, 0)

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

local Line1 = Instance.new("Frame")
Line1.Parent = Frame
Line1.Size = UDim2.new(0.9, 0, 0, 2)
Line1.Position = UDim2.new(0.05, 0, 0, 80)
Line1.BackgroundColor3 = Color3.fromRGB(255, 0, 0)

local Line2 = Instance.new("Frame")
Line2.Parent = Frame
Line2.Size = UDim2.new(0.9, 0, 0, 2)
Line2.Position = UDim2.new(0.05, 0, 0, 130)
Line2.BackgroundColor3 = Color3.fromRGB(255, 0, 0)

local function CreateButton(text, position, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = Frame
    Button.Text = text
    Button.Size = UDim2.new(0.45, 0, 0, 30)
    Button.Position = UDim2.new(0.025 + ((position % 2) * 0.5), 0, 0, 40 + math.floor(position / 2) * 50)
    Button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.Gotham
    Button.TextSize = 14
    Button.BorderSizePixel = 0

    local ButtonCorner = Instance.new("UICorner", Button)
    ButtonCorner.CornerRadius = UDim.new(0, 8)

    Button.MouseButton1Click:Connect(callback)
end

CreateButton("Find CFrame", 0, function()
    local char = GetCharacter()
    if char and char.PrimaryPart then
        LastCFrame = char.PrimaryPart.CFrame
        print("CFrame:", LastCFrame)
    else
        print("Character not found!")
    end
end)

CreateButton("Copy CFrame", 1, function()
    if LastCFrame and Clipboard then
        Clipboard(tostring(LastCFrame))
        print("CFrame copied!")
    else
        print("No CFrame to copy!")
    end
end)

CreateButton("Find Position", 2, function()
    local char = GetCharacter()
    if char and char.PrimaryPart then
        print("Position:", char.PrimaryPart.Position)
    else
        print("Character not found!")
    end
end)

CreateButton("Copy Position", 3, function()
    local char = GetCharacter()
    if char and char.PrimaryPart and Clipboard then
        Clipboard(tostring(char.PrimaryPart.Position))
        print("Position copied!")
    else
        print("Cannot copy Position!")
    end
end)

CreateButton("Teleport to CFrame", 4, function()
    local char = GetCharacter()
    if char and char.PrimaryPart and LastCFrame then
        char:SetPrimaryPartCFrame(LastCFrame)
        print("Teleported to CFrame!")
    else
        print("No saved CFrame to teleport!")
    end
end)
